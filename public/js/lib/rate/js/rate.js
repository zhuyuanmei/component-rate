define(function(){var t=function(i){this.settings=$.extend({},t.defaults,i),this.init()};t.prototype={init:function(){this.create()},create:function(){var t,i=this,n=i.settings;~~n.sumPoints>=2&&~~n.sumPoints>=~~n.goodPoints?t=~~n.sumPoints:(n.sumPoints=5,n.goodPoints=0,t=n.sumPoints),i.totalPoints=t,i.renderRateHtml(i.totalPoints,~~n.goodPoints,"init"),i.bindEvent()},renderRateHtml:function(t,i,n){var e=this,s=e.settings;if("init"===n){for(var o="",a=0;t>a;a++)o=i>=a+1?o+'<li data-index="'+a+'" class="current"></li>':o+'<li data-index="'+a+'"></li>';s.rateObj.html(o)}else{s.rateObj.find("li").removeClass("current");for(var a=0;t>a;a++)i>=a+1&&s.rateObj.find("li").eq(a).addClass("current")}},bindEvent:function(){var t=this,i=t.settings;i.rateObj.delegate("li","click",function(){var i=$(this),n=~~i.attr("data-index");t.renderRateHtml(t.totalPoints,n+1,"notInit")})}},t.defaults={rateObj:null,sumPoints:5,goodPoints:0};var i=function(i){new t(i)};window.rRate=$.rRate=$.rate=i});